<!DOCTYPE html>
<html>
<head>
  <title>Destructuring</title>
</head>
<body>

  <h1 id="dataType">Destructuring</h1>

  <!-- internal script -->
  <script type="text/javascript">

    /*
      destructuring: 
        - array: Nó sẽ không quan tâm tên biến mà chỉ quan tâm đến vị trí của biến đó trong mảng
            ex: const [a, , b, c] = [1, 2, 3, 4] => a: 1; b: 3; c: 4
        - object: ta phải viết đúng tên NAME của object. Nó không quan tâm đến thứ tự của biến đó trong object
            ex: const { country, name} = {name: 'tony', age: 12, country: VN} 
                  => country: VN; name: tony
    */
    // [1,2,3] = [1, 2, ...rest]
    const firstName = 'react course';
    const person = {
      firstName: 'tony',
      lastName: 'truong',
      age: 18,
      country: 'VN'
    }
    // const firstName = person.firstName; // es5
    // change name default
    const { firstName: personFirstName, ...rest } = person; // es6

    console.log("demo destructuring: ", {
      personFirstName, 
      rest
    })

    // set default value with params is object
    function printPerson({ firstName, lastName, country = 'US'}, remains) {
      console.log({
        firstName, 
        lastName,
        country,
        remains
      })
    };

    printPerson({
      lastName: 'duong',
      firstName: 'nguyen',
      // country: 'Chicago'
    }, 'remains');

    // set default value with params is normal
    function printOrdredList(country, color = 'yellow', age = 20) {
      console.log('printOrdredList: ', {
        age, 
        country,
        color
      })
    };

    printOrdredList('China', 'yellow', 18);

    // swap item
    let source = 3;
    let destination = 4;
    [source, destination] = [destination, source] 

    console.log('swap Item: ', {
      source,
      destination
    })

    // ignore item
    function fruits() {
      return ['apple', 'banana', 'orange', 'grape'];
    }
    const [apple, , , grape] = fruits();
    console.log('ignore item: ', {
      apple,
      grape
    })

    // nested object
    const book = {
      title: 'react course',
      name: 'meaning',
      price: 800,
      author: {
        name: 'tony',
        age: 18,
        country: {
          name: 'VN',
          code: 'VN',
          continent: 'Asia'
        }
      }
    };
    // es5
    // const continent = book.author.country.continent;
    // const age = book.author.age
    // const author = book.author.country;
    const name = 'dataBE';

    // es6
    // const { 
    //   author: {
    //     country,
    //     country: {
    //       continent
    //     },
    //     age,
    //     name: authorName
    //   },
    //   author
    // } = book;
    const { 
      name: nameCountry, 
      code,
      continent
    } = book.author.country;

    console.log('nested object: ', {
      continent,
      nameCountry
    })

    // ex
    const product = {
      name: 'iphone',
      price: 1000,
      category: 'phone',
      brand: 'apple',
      color: {
        primary: 'red',
        secondary: 'black',
        type: {
          name: 'hex'
        }
      },
      user: {
        name: {
          firstName: 'tony',
          lastName: 'truong'
        },
        age: 18,
        country: 'VN'
      },
      size: {
        width: 10,
        height: 20,
        weight: 30
      }
    }

    // get name type of color
    // get lastName of user
    // get country of user
    // get width of size

    // array destructuring
    const names = ['tony', 'truong', 'duong', 'nguyen'];
    const [name1, name2, ...restName] = names;

    console.log('array destructuring: ', {
      restName
    })

  </script>

  <!-- external script -->
</body>
</html>